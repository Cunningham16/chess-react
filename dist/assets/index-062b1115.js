import{r as e,j as s,a as w}from"./index-4d9f0b2e.js";import{j as g,c as p,B as F,P,a as I,G as E}from"./createBoard-f4ba538b.js";function j(){const[o,c]=e.useState(new g.Game),[r,u]=e.useState("white"),[l,i]=e.useState(p()),[b,f]=e.useState([]),[k,d]=e.useState([]),[t,n]=e.useState({type:void 0,status:!1,color:void 0}),[v,S]=e.useState(!1),[m,h]=e.useState(!1),x={fallenFiguresLight:b,setFallenFiguresLight:f,fallenFiguresDark:k,setFallenFiguresDark:d,boardArray:l,setBoardArray:i,turn:r,setTurn:u,isEndCase:t,setIsEndCase:n,isRetry:m,setIsRetry:h,boardEngine:o,setBoardEngine:c,isPromote:v,setIsPromote:S};function y(){if(t.status===!0&&t.type==="timeOut")return s(E,{message:"Time is out",whoLose:t.color});if(t.status===!0&&t.type==="checkmate")return s(E,{message:"Checkmate",whoLose:t.color})}return e.useEffect(()=>{o.board.configuration.checkMate===!0&&n({status:!0,type:"checkmate",color:r})},[o.board.configuration.checkMate]),e.useEffect(()=>{y(),i(l.map(a=>(a.setDot=void 0,a)))},[t]),e.useEffect(()=>{if(n({type:void 0,status:!1,color:void 0}),i(p()),d([]),f([]),h(!1),r==="black"){const a=document.querySelector(".board-game");a.style.flexDirection="column"}c(new g.Game),u("white")},[m]),s("div",{className:"board-game",children:w(F.Provider,{value:x,children:[y(),s(P,{color:"black",isPlayWithAI:!1}),s(I,{isPlayWithAI:!1}),s(P,{color:"white",isPlayWithAI:!1})]})})}export{j as default};
